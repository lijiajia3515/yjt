```javascript
use yr_check;

// total 5636;
printjson(db.system_serial.count({
    Client: 'yr_check',
    $or: [{
        Id: {
            $regex: 'Problem-.*'
        }
    }, {
        Id: {
            $regex: 'Check-.*'
        }
    }]
}));


var updateSerial = [];
db.check_check.aggregate(
    [{
        $match: {
            SerialNumber: {
                $exists: true,
                $ne: null
            }
        }
    }, {
        $group: {
            _id: '$Parent',
            maxValue: {
                $last: {
                    $max: '$SerialNumber'
                }
            }
        }
    }, {
        $project: {
            Id: {
                $concat: ['Check-', '$_id']
            },
            Value: {
                $add: ['$maxValue', 1]
            }
        }
    }]
).map(function(d) {updateSerial.push(d) });

db.check_problem.aggregate(
    [{
        $match: {
            SerialNumber: {
                $exists: true,
                $ne: null
            }
        }
    }, {
        $group: {
            _id: '$Check',
            maxValue: {
                $last: {
                    $max: '$SerialNumber'
                }
            }
        }
    }, {
        $project: {
            Id: {
                $concat: ['Problem-', '$_id']
            },
            Value: {
                $add: ['$maxValue', 1]
            }
        }
    }]
).map(function(d) {updateSerial.push(d) });

use cairo_system;
// 删除序号
db.system_serial.remove({
    Client: 'yr_check',
    $or: [{
        Id: {
            $regex: 'Problem-.*'
        }
    }, {
        Id: {
            $regex: 'Check-.*'
        }
    }]
});

// 更新序号
updateSerial.forEach(function(x) {
		print('Id -' +x.Id + ', Value -' + x.Value )
    db.system_serial.insert({
        Client: 'yr_check',
        Id: x.Id,
				Value: x.Value
    });
});
```